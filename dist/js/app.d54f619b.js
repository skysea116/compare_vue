(function(){"use strict";var t={1053:function(t,e,s){var n=s(144),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],l=s(1001),a={},o=(0,l.Z)(a,r,i,!1,null,null,null),u=o.exports,c=s(629);n.ZP.use(c.ZP);var _=new c.ZP.Store({modules:{fileNames:{state:{fileName_1:"",fileName_2:""},getters:{FIRST_FILE(t){return t.fileName_1},SECOND_FILE(t){return t.fileName_2}},mutations:{SET_1_FILE_NAME:(t,e)=>{t.fileName_1=e},SET_2_FILE_NAME:(t,e)=>{t.fileName_2=e}}},tables:{state:{table_1:"",table_2:""},getters:{FIRST_TABLE(t){return t.table_1},SECOND_TABLE(t){return t.table_2}},mutations:{SET_1_TABLE_TO_STATE:(t,e)=>{t.table_1=e},SET_2_TABLE_TO_STATE:(t,e)=>{t.table_2=e}}},selectedParams:{state:{selected_1:"",selected_2:""},getters:{SELECTED_PARAMS_1(t){return t.selected_1},SELECTED_PARAMS_2(t){return t.selected_2}},mutations:{SET_1_SELECTED_PARAMS:(t,e)=>{t.selected_1=e},SET_2_SELECTED_PARAMS:(t,e)=>{t.selected_2=e}}},warnings:{state:{isShow_1:"",isShow_2:""},getters:{WARNING_1(t){return t.isShow_1},WARNING_2(t){return t.isShow_2}},mutations:{SET_WARNING_1:(t,e)=>{t.isShow_1=e},SET_WARNING_2:(t,e)=>{t.isShow_2=e}}}}}),h=s(8345),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"top"},[e("h2",[t._v("Загрузка файлов")]),e("div",{staticClass:"uploads"},[e("fileUpload",{attrs:{fileNum:"1"}}),e("fileUpload",{attrs:{fileNum:"2"}})],1)]),this.$store.getters.FIRST_TABLE&&this.$store.getters.SECOND_TABLE?e("div",{staticClass:"button"},[e("nextButton",{attrs:{ButtonNum:"1"}})],1):t._e()])},p=[],d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[t._l(t.headers,(function(s){return e("span",{key:s},[(t.fileNum,e("span",[" "===s[s.length-1]?e("div",{staticClass:"warning"},[e("p",[t._v('Столбец "'+t._s(s)+' " имеет лишний пробел! '),e("br"),e("br"),e("span",[t._v("Удалите его для корректной работы!")])])]):t._e()]))])})),e("div",["1"===t.fileNum?e("div",[""!==t.file||""!==this.$store.getters.FIRST_FILE?e("label",{attrs:{for:"sheetjs-input1"}},[t._v(t._s(this.$store.getters.FIRST_FILE))]):e("label",{attrs:{for:"sheetjs-input1"}},[t._v("Выберите файл "+t._s(t.fileNum)+": ")])]):e("div",[""!==t.file||""!==this.$store.getters.SECOND_FILE?e("label",{attrs:{for:"sheetjs-input2"}},[t._v(t._s(this.$store.getters.SECOND_FILE))]):e("label",{attrs:{for:"sheetjs-input2"}},[t._v("Выберите файл "+t._s(t.fileNum)+": ")])]),"1"===t.fileNum?e("input",{attrs:{type:"file",multiple:"false",id:"sheetjs-input1",accept:t.SheetJSFT},on:{change:t.onchange}}):e("input",{attrs:{type:"file",multiple:"false",id:"sheetjs-input2",accept:t.SheetJSFT},on:{change:t.onchange}}),e("br")])],2)},m=[],v=s(4105),E={props:["fileNum"],data(){return{file:"",SheetJSFT:["xlsx","xlsb","xlsm","xls"].map((function(t){return"."+t})).join(","),isShow_1:!1,isShow_2:!1,warnColumn_1:"",warnColumn_2:"",headers:""}},computed:{warningCondition:function(){return console.log("aaaa"),"aaa"}},methods:{onchange:function(t){let e=t.target.files;if(!e||0==e.length)return;this.file=e[0];let s=new FileReader;s.onload=t=>{let e=new Uint8Array(t.target.result),s=(0,v.ij)(e),n=s.SheetNames[0],r=s.Sheets[n],i=v.P6.sheet_to_json(r);this.setToVuex(i),this.headers=Object.keys(i[0])},s.readAsArrayBuffer(this.file)},setToVuex(t){"1"===this.fileNum?(this.$store.commit("SET_1_TABLE_TO_STATE",t),this.$store.commit("SET_1_FILE_NAME",this.file.name)):"2"===this.fileNum&&(this.$store.commit("SET_2_TABLE_TO_STATE",t),this.$store.commit("SET_2_FILE_NAME",this.file.name))}}},S=E,T=(0,l.Z)(S,d,m,!1,null,null,null),g=T.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"but"},["1"===t.ButtonNum?e("span",[e("router-link",{attrs:{to:"/comparing"}},[t._v("Дальше")])],1):t._e(),"2"===t.ButtonNum?e("span",[e("router-link",{attrs:{to:"/result"}},[t._v("Дальше")])],1):t._e()])},N=[],C={props:["ButtonNum"]},A=C,y=(0,l.Z)(A,b,N,!1,null,null,null),x=y.exports,L={name:"UploadView",components:{fileUpload:g,nextButton:x}},O=L,w=(0,l.Z)(O,f,p,!1,null,null,null),F=w.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comp"},[e("h2",[t._v("Выберите параметры для сравнения")]),e("div",{staticClass:"top-comp"},[e("div",{staticClass:"one"},[e("h3",[t._v(t._s(this.$store.getters.FIRST_FILE))]),e("comparingFiles",{attrs:{fileNum:"1"}})],1),e("div",{staticClass:"two"},[e("h3",[t._v(t._s(this.$store.getters.SECOND_FILE))]),e("comparingFiles",{attrs:{fileNum:"2"}})],1)]),e("div",{staticClass:"but-wrap"},[this.$store.getters.SELECTED_PARAMS_1.length>=1&&this.$store.getters.SELECTED_PARAMS_2.length>=1&&this.$store.getters.SELECTED_PARAMS_1.length==this.$store.getters.SELECTED_PARAMS_2.length?e("div",{staticClass:"button"},[e("nextButton",{attrs:{ButtonNum:"2"}})],1):t._e()])])},I=[],R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"compare"},[e("li",["1"===t.fileNum?e("div",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_1,expression:"selected_1"}],attrs:{multiple:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_1=e.target.multiple?s:s[0]},function(e){return t.getSelectValue()}]}},[t._m(0),t._l(t.headers,(function(s){return e("option",{key:s,attrs:{title:"ctrl + ЛКМ"}},[e("p",[t._v(t._s(s))])])}))],2)]):t._e(),"2"===t.fileNum?e("div",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_2,expression:"selected_2"}],attrs:{multiple:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_2=e.target.multiple?s:s[0]},function(e){return t.getSelectValue()}]}},[t._m(1),t._l(t.headers,(function(s){return e("option",{key:s,attrs:{title:"ctrl + ЛКМ"}},[e("p",[t._v(t._s(s))])])}))],2)]):t._e()])])},$=[function(){var t=this,e=t._self._c;return e("option",{attrs:{selected:"selected",disabled:"",value:"---"}},[e("p",[t._v("Выберите параметры:")])])},function(){var t=this,e=t._self._c;return e("option",{attrs:{selected:"selected",disabled:"",value:"---",title:"ctrl + ЛКМ для множественного выбора"}},[e("p",[t._v("Выберите параметры:")])])}],k=(s(7658),{props:["fileNum"],data(){return{firstTable:this.$store.getters.FIRST_TABLE,secondTable:this.$store.getters.SECOND_TABLE,headers:[],selected_1:[],selected_2:[]}},mounted(){this.toHeaders()},methods:{toHeaders(){if("1"===this.fileNum)for(let t in this.firstTable[0])this.headers.push(t);else for(let t in this.secondTable[0])this.headers.push(t);this.headers.sort()},getSelectValue(){"1"===this.fileNum?this.$store.commit("SET_1_SELECTED_PARAMS",this.selected_1):this.$store.commit("SET_2_SELECTED_PARAMS",this.selected_2)}}}),P=k,D=(0,l.Z)(P,R,$,!1,null,null,null),j=D.exports,B={name:"ComparingView",components:{nextButton:x,comparingFiles:j}},Z=B,q=(0,l.Z)(Z,M,I,!1,null,null,null),V=q.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"result"},[e("h2",[t._v("Результат")]),e("resultOfCompare")],1)},J=[],U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"res-blck"},[""==t.nonMatched_1&&""==t.nonMatched_2?e("div",{staticClass:"warning"},[e("p",[t._v("Разницы нет!")])]):e("span",[t._l(t.completelyNonMatch_1,(function(s){return e("span",{key:s,staticClass:"row"},[e("span",[e("b",[t._v("Строка "+t._s(s.index))]),t._v(' файла "'+t._s(t.firstFile)+'", содержащая ')]),t._l(s,(function(s,n){return e("span",{key:s},["index"!==n?e("span",[t._v(" "+t._s(n)+": "),e("b",[t._v(t._s(s)+" ")])]):t._e()])})),e("span",{staticClass:"type-of-output"},[t._v(" полностью отсутсвуют")]),t._v(" в "),e("b",[t._v(t._s(t.secondFile))]),e("br")],2)})),t._l(t.completelyNonMatch_2,(function(s){return e("span",{key:s,staticClass:"row"},[e("span",[e("b",[t._v("Строка "+t._s(s.index))]),t._v(' файла "'+t._s(t.secondFile)+'", содержащая ')]),t._l(s,(function(s,n){return e("span",{key:s},["index"!==n?e("span",[t._v(" "+t._s(n)+": "),e("b",[t._v(t._s(s)+" ")])]):t._e()])})),e("span",{staticClass:"type-of-output"},[t._v(" полностью отсутсвуют")]),t._v(" в "),e("b",[t._v(t._s(t.firstFile))]),e("br")],2)})),t._l(t.partlyOutput,(function(s){return e("span",{key:s,staticClass:"row"},t._l(s,(function(s,n){return e("span",{key:s},[e("span","el1"===n?[e("span",[e("b",[t._v("Строка "+t._s(s.index)+" ")]),t._v('файла "'+t._s(t.firstFile)+'", содержащая ')]),t._l(s,(function(s,n){return e("span",{key:s},["index"!==n?e("span",[t._v(t._s(n)+":"),e("b",[t._v(" "+t._s(s)+" ")])]):t._e()])})),e("span",{staticClass:"type-of-output"},[t._v("частично совпадает")]),t._v(" со ")]:[e("span",[e("b",[t._v("строкой "+t._s(s.index)+" ")]),t._v('файла "'+t._s(t.secondFile)+'", содержащей ')]),t._l(s,(function(s,n){return e("span",{key:s},["index"!==n?e("span",[t._v(t._s(n)+":"),e("b",[t._v(" "+t._s(s)+" ")])]):t._e()])}))],2)])})),0)}))],2)])},W=[],H=s(6486),z=s.n(H),K={data(){return{firstTable:this.$store.getters.FIRST_TABLE,secondTable:this.$store.getters.SECOND_TABLE,selected_1:this.$store.getters.SELECTED_PARAMS_1,selected_2:this.$store.getters.SELECTED_PARAMS_2,nonMatched_1:"",nonMatched_2:"",firstFile:this.$store.getters.FIRST_FILE,secondFile:this.$store.getters.SECOND_FILE,partialMatch_1:"",completelyNonMatch_1:"",partialMatch_2:"",completelyNonMatch_2:"",partlyOutput:""}},mounted(){this.toGetSelectedData(),this.toCompareIt(),this.resultOutput()},methods:{toGetSelectedData(){let t=this.firstTable.slice(),e=Object.keys(t[0]).map((function(t){return t.trim()})),s=e.filter((t=>!this.selected_1.includes(t)));s.join(),t.map((function(t){void 0===t[s]?delete t[s+" "]:delete t[s]}));let n=this.secondTable.slice(),r=Object.keys(n[0]).map((function(t){return t.trim()})),i=r.filter((t=>!this.selected_1.includes(t)));i.join(),n.map((function(t){void 0===t[i]?delete t[i+" "]:delete t[i]}))},toCompareIt(){let t=this.firstTable,e=this.secondTable,s=[],n=[],r=[],i=[];t.forEach(((r,i)=>{t[i]=Object.keys(r).sort().reduce(((t,e)=>(t[e]=r[e],t)),{}),e.forEach((e=>{z().isEqual(r,e)&&(s.push(t[i]),n=t.filter((t=>!s.includes(t))))}))})),this.nonMatched_1=n,e.forEach(((s,n)=>{e[n]=Object.keys(s).sort().reduce(((t,e)=>(t[e]=s[e],t)),{}),t.forEach((t=>{z().isEqual(s,t)&&(r.push(e[n]),i=e.filter((t=>!r.includes(t))))}))})),this.nonMatched_2=i;let l=[],a=[];n.forEach((t=>{for(let e in t)i.forEach((s=>{for(let r in s)z().isEqual(t[e],s[r])?(l.push(n.find((s=>s[e]===t[e]))),l=l.filter(((t,e)=>l.indexOf(t)===e)),this.partialMatch_1=l):(a=z().xor(l,n),this.completelyNonMatch_1=a)}))}));let o=[],u=[];i.forEach((t=>{for(let e in t)n.forEach((s=>{for(let n in s)z().isEqual(s[n],t[e])?(o.push(i.find((t=>t[n]===s[n]))),o=o.filter(((t,e)=>o.indexOf(t)===e)),this.partialMatch_2=o):(u=z().xor(o,i),this.completelyNonMatch_2=u)}))})),this.isLoaded=!0},resultOutput(){this.completelyNonMatch_1.forEach((t=>{this.firstTable.forEach(((e,s)=>{z().isEqual(t,e)&&(t["index"]=s+2)}))})),this.completelyNonMatch_2.forEach((t=>{this.secondTable.forEach(((e,s)=>{z().isEqual(t,e)&&(t["index"]=s+2)}))}));let t=[];this.partialMatch_1.forEach((e=>{this.firstTable.forEach(((t,s)=>{z().isEqual(t,e)&&(e["index"]=s+2)}));for(let s in e)this.partialMatch_2.forEach((n=>{this.secondTable.forEach(((t,e)=>{z().isEqual(t,n)&&(n["index"]=e+2)}));for(let r in n)if(z().isEqual(e[s],n[r])){t.push({el1:e,el2:n});const s=new Set(t.map((t=>JSON.stringify(t)))),r=Array.from(s).map((t=>JSON.parse(t)));this.partlyOutput=r}}))}))}}},Q=K,X=(0,l.Z)(Q,U,W,!1,null,null,null),Y=X.exports,tt={name:"LoadingView",components:{resultOfCompare:Y}},et=tt,st=(0,l.Z)(et,G,J,!1,null,null,null),nt=st.exports;n.ZP.use(h.ZP);const rt=[{path:"/",name:"upload",component:F},{path:"/comparing",name:"comparing",component:V},{path:"/result",name:"result",component:nt}],it=new h.ZP({mode:"history",base:"/compare_vue/",routes:rt});var lt=it,at=s(4865),ot=s.n(at);n.ZP.config.productionTip=!1,lt.beforeResolve(((t,e,s)=>{t.name&&ot().start(),s()})),lt.afterEach((()=>{ot().done()})),new n.ZP({store:_,router:lt,render:t=>t(u)}).$mount("#app")}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=t,function(){var t=[];s.O=function(e,n,r,i){if(!n){var l=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],i=t[c][2];for(var a=!0,o=0;o<n.length;o++)(!1&i||l>=i)&&Object.keys(s.O).every((function(t){return s.O[t](n[o])}))?n.splice(o--,1):(a=!1,i<l&&(l=i));if(a){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[n,r,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,l=n[0],a=n[1],o=n[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(o)var c=o(s)}for(e&&e(n);u<l.length;u++)i=l[u],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(c)},n=self["webpackChunkcompare"]=self["webpackChunkcompare"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(1053)}));n=s.O(n)})();
//# sourceMappingURL=app.d54f619b.js.map