(function(){"use strict";var t={1962:function(t,e,s){var n=s(144),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],l=s(1001),a={},o=(0,l.Z)(a,i,r,!1,null,null,null),u=o.exports,_=s(629);n.ZP.use(_.ZP);var c=new _.ZP.Store({modules:{fileNames:{state:{fileName_1:"",fileName_2:""},getters:{FIRST_FILE(t){return t.fileName_1},SECOND_FILE(t){return t.fileName_2}},mutations:{SET_1_FILE_NAME:(t,e)=>{t.fileName_1=e},SET_2_FILE_NAME:(t,e)=>{t.fileName_2=e}}},tables:{state:{table_1:"",table_2:""},getters:{FIRST_TABLE(t){return t.table_1},SECOND_TABLE(t){return t.table_2}},mutations:{SET_1_TABLE_TO_STATE:(t,e)=>{t.table_1=e},SET_2_TABLE_TO_STATE:(t,e)=>{t.table_2=e}}},selectedParams:{state:{selected_1:"",selected_2:""},getters:{SELECTED_PARAMS_1(t){return t.selected_1},SELECTED_PARAMS_2(t){return t.selected_2}},mutations:{SET_1_SELECTED_PARAMS:(t,e)=>{t.selected_1=e},SET_2_SELECTED_PARAMS:(t,e)=>{t.selected_2=e}}},warnings:{state:{isShow_1:"",isShow_2:""},getters:{WARNING_1(t){return t.isShow_1},WARNING_2(t){return t.isShow_2}},mutations:{SET_WARNING_1:(t,e)=>{t.isShow_1=e},SET_WARNING_2:(t,e)=>{t.isShow_2=e}}}}}),h=s(8345),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"top"},[e("h2",[t._v("Загрузка файлов")]),e("div",{staticClass:"uploads"},[e("fileUpload",{attrs:{fileNum:"1"}}),e("fileUpload",{attrs:{fileNum:"2"}})],1)]),this.$store.getters.FIRST_TABLE&&this.$store.getters.SECOND_TABLE?e("div",{staticClass:"button"},[e("nextButton",{attrs:{ButtonNum:"1"}})],1):t._e()])},p=[],d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[t._l(t.headers,(function(s){return e("span",{key:s},[(t.fileNum,e("span",[" "===s[s.length-1]?e("div",{staticClass:"warning"},[e("p",[t._v('Столбец "'+t._s(s)+' " имеет лишний пробел! '),e("br"),e("br"),e("span",[t._v("Удалите его для корректной работы!")])])]):t._e()]))])})),e("div",["1"===t.fileNum?e("div",{staticClass:"upload"},[""!==this.$store.getters.FIRST_FILE?e("label",{attrs:{for:"sheetjs-input1"}},[t._v(t._s(this.$store.getters.FIRST_FILE))]):e("label",{attrs:{for:"sheetjs-input1"}},[t._v("Выберите файл "+t._s(t.fileNum)+": ")]),""!==this.$store.getters.FIRST_FILE?e("span",{staticClass:"delBut",on:{click:function(e){return t.fileDel(1)}}},[t._v("✕")]):t._e()]):e("div",{staticClass:"upload"},[""!==this.$store.getters.SECOND_FILE?e("label",{attrs:{for:"sheetjs-input2"}},[t._v(t._s(this.$store.getters.SECOND_FILE))]):e("label",{attrs:{for:"sheetjs-input2"}},[t._v("Выберите файл "+t._s(t.fileNum)+": ")]),""!==this.$store.getters.SECOND_FILE?e("span",{staticClass:"delBut",on:{click:function(e){return t.fileDel(2)}}},[t._v("✕")]):t._e()]),"1"===t.fileNum?e("input",{attrs:{type:"file",multiple:"false",id:"sheetjs-input1",accept:t.SheetJSFT},on:{change:t.onchange}}):e("input",{attrs:{type:"file",multiple:"false",id:"sheetjs-input2",accept:t.SheetJSFT},on:{change:t.onchange}}),e("br")])],2)},m=[],E=s(4105),v={props:["fileNum"],data(){return{file:"",SheetJSFT:["xlsx","xlsb","xlsm","xls"].map((function(t){return"."+t})).join(","),isShow_1:!1,isShow_2:!1,warnColumn_1:"",warnColumn_2:"",headers:""}},computed:{warningCondition:function(){return console.log("aaaa"),"aaa"}},methods:{onchange:function(t){let e=t.target.files;if(!e||0==e.length)return;this.file=e[0];let s=new FileReader;s.onload=t=>{let e=new Uint8Array(t.target.result),s=(0,E.ij)(e),n=s.SheetNames[0],i=s.Sheets[n],r=E.P6.sheet_to_json(i);this.setToVuex(r),this.headers=Object.keys(r[0])},s.readAsArrayBuffer(this.file)},setToVuex(t){"1"===this.fileNum?(this.$store.commit("SET_1_TABLE_TO_STATE",t),this.$store.commit("SET_1_FILE_NAME",this.file.name)):"2"===this.fileNum&&(this.$store.commit("SET_2_TABLE_TO_STATE",t),this.$store.commit("SET_2_FILE_NAME",this.file.name))},fileDel(t){1===t?(this.$store.commit("SET_1_TABLE_TO_STATE",""),this.$store.commit("SET_1_FILE_NAME","")):(this.$store.commit("SET_2_TABLE_TO_STATE",""),this.$store.commit("SET_2_FILE_NAME",""))}}},T=v,S=(0,l.Z)(T,d,m,!1,null,null,null),g=S.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"but"},["1"===t.ButtonNum?e("span",[e("router-link",{attrs:{to:"/comparing"}},[t._v("Дальше")])],1):t._e(),"2"===t.ButtonNum?e("span",[e("router-link",{attrs:{to:"/result"}},[t._v("Дальше")])],1):t._e()])},N=[],C={props:["ButtonNum"]},A=C,y=(0,l.Z)(A,b,N,!1,null,null,null),L=y.exports,F={name:"UploadView",components:{fileUpload:g,nextButton:L}},x=F,M=(0,l.Z)(x,f,p,!1,null,null,null),O=M.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comp"},[e("h2",[t._v("Выберите параметры для сравнения")]),e("div",{staticClass:"top-comp"},[e("div",{staticClass:"one"},[e("comparingFiles",{attrs:{fileNum:"1"}})],1),e("div",{staticClass:"two"},[e("comparingFiles",{attrs:{fileNum:"2"}})],1)]),e("div",{staticClass:"but-wrap"},[this.$store.getters.SELECTED_PARAMS_1.length>=1&&this.$store.getters.SELECTED_PARAMS_2.length>=1&&this.$store.getters.SELECTED_PARAMS_1.length==this.$store.getters.SELECTED_PARAMS_2.length?e("div",{staticClass:"button"},[e("nextButton",{attrs:{ButtonNum:"2"}})],1):t._e()])])},I=[],$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"compare"},[e("li",["1"===t.fileNum?e("div",{staticClass:"select"},[e("h3",[t._v(t._s(this.$store.getters.FIRST_FILE))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_1,expression:"selected_1"}],attrs:{multiple:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_1=e.target.multiple?s:s[0]},function(e){return t.getSelectValue()}]}},[t._m(0),t._l(t.headers,(function(s){return e("option",{key:s,attrs:{title:"ctrl + ЛКМ"}},[e("p",[t._v(t._s(s))])])}))],2)]):t._e(),"2"===t.fileNum?e("div",{staticClass:"select"},[e("h3",[t._v(t._s(this.$store.getters.SECOND_FILE))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_2,expression:"selected_2"}],attrs:{multiple:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected_2=e.target.multiple?s:s[0]},function(e){return t.getSelectValue()}]}},[t._m(1),t._l(t.headers,(function(s){return e("option",{key:s,attrs:{title:"ctrl + ЛКМ"}},[e("p",[t._v(t._s(s))])])}))],2)]):t._e()])])},R=[function(){var t=this,e=t._self._c;return e("option",{attrs:{selected:"selected",disabled:"",value:"---"}},[e("p",[t._v("Выберите параметры:")])])},function(){var t=this,e=t._self._c;return e("option",{attrs:{selected:"selected",disabled:"",value:"---",title:"ctrl + ЛКМ для множественного выбора"}},[e("p",[t._v("Выберите параметры:")])])}],D=(s(7658),{props:["fileNum"],data(){return{firstTable:this.$store.getters.FIRST_TABLE,secondTable:this.$store.getters.SECOND_TABLE,headers:[],selected_1:[],selected_2:[]}},mounted(){this.toHeaders()},methods:{toHeaders(){if("1"===this.fileNum)for(let t in this.firstTable[0])this.headers.push(t);else for(let t in this.secondTable[0])this.headers.push(t);this.headers},getSelectValue(){"1"===this.fileNum?this.$store.commit("SET_1_SELECTED_PARAMS",this.selected_1):this.$store.commit("SET_2_SELECTED_PARAMS",this.selected_2)}}}),B=D,k=(0,l.Z)(B,$,R,!1,null,null,null),P=k.exports,j={name:"ComparingView",components:{nextButton:L,comparingFiles:P}},Z=j,V=(0,l.Z)(Z,w,I,!1,null,null,null),q=V.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"result"},[e("h2",[t._v("Результат")]),e("resultOfCompare")],1)},J=[],U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"res-blck"},[t.nonMatched_1.length&&t.nonMatched_2.length?e("span",[t._l(t.completelyNonMatch_1,(function(s){return e("span",{key:s},[void 0!==s?e("span",{staticClass:"row"},[e("span",[e("b",[t._v("Строка "+t._s(s.index))]),t._v(' файла "'+t._s(t.firstFile)+'", содержащая ')]),t._l(s,(function(s,n){return e("span",{key:s},["index"!==n?e("span",[t._v(" "+t._s(n)+": "),e("b",[t._v(t._s(s)+" ")])]):t._e()])})),e("span",{staticClass:"type-of-output"},[t._v(" полностью отсутсвуют")]),t._v(" в "),e("b",[t._v(t._s(t.secondFile))]),e("br")],2):t._e()])})),t._l(t.completelyNonMatch_2,(function(s){return e("span",{key:s},[void 0!==s?e("span",{staticClass:"row"},[e("span",[e("b",[t._v("Строка "+t._s(s.index))]),t._v(' файла "'+t._s(t.secondFile)+'", содержащая ')]),t._l(s,(function(s,n){return e("span",{key:s},["index"!==n?e("span",[t._v(" "+t._s(n)+": "),e("b",[t._v(t._s(s)+" ")])]):t._e()])})),e("span",{staticClass:"type-of-output"},[t._v(" полностью отсутсвуют")]),t._v(" в "),e("b",[t._v(t._s(t.firstFile))]),e("br")],2):t._e()])})),t._l(t.partlyOutput,(function(s){return e("span",{key:s,staticClass:"row"},t._l(s,(function(s,n){return e("span",{key:s},[e("span","el1"===n?[e("span",[e("b",[t._v("Строка "+t._s(s.index)+" ")]),t._v('файла "'+t._s(t.firstFile)+'", содержащая ')]),t._l(s,(function(s,n){return e("span",{key:s},["index"!==n?e("span",[t._v(t._s(n)+":"),e("b",[t._v(" "+t._s(s)+" ")])]):t._e()])})),e("span",{staticClass:"type-of-output"},[t._v("частично совпадает")]),t._v(" со ")]:[e("span",[e("b",[t._v("строкой "+t._s(s.index)+" ")]),t._v('файла "'+t._s(t.secondFile)+'", содержащей ')]),t._l(s,(function(s,n){return e("span",{key:s},["index"!==n?e("span",[t._v(t._s(n)+":"),e("b",[t._v(" "+t._s(s)+" ")])]):t._e()])}))],2)])})),0)}))],2):e("div",{staticClass:"warning"},[e("p",[t._v("Разницы нет!")])])])},W=[],H=s(6486),z=s.n(H),K={data(){return{firstTable:this.$store.getters.FIRST_TABLE,secondTable:this.$store.getters.SECOND_TABLE,selected_1:this.$store.getters.SELECTED_PARAMS_1,selected_2:this.$store.getters.SELECTED_PARAMS_2,nonMatched_1:"",nonMatched_2:"",firstFile:this.$store.getters.FIRST_FILE,secondFile:this.$store.getters.SECOND_FILE,partialMatch_1:"",completelyNonMatch_1:"",partialMatch_2:"",completelyNonMatch_2:"",partlyOutput:""}},mounted(){this.toGetSelectedData(),this.toCompareIt(),this.resultOutput()},methods:{toGetSelectedData(){let t=Object.keys(this.firstTable[0]).map((function(t){return t.trim()})),e=t.filter((t=>!this.selected_1.includes(t)));e.join(),this.firstTable.map((function(t){void 0===t[e]?delete t[e+" "]:delete t[e]}));let s=Object.keys(this.secondTable[0]).map((function(t){return t.trim()})),n=s.filter((t=>!this.selected_1.includes(t)));n.join(),this.secondTable.map((function(t){void 0===t[n]?delete t[n+" "]:delete t[n]}))},toCompareIt(){let t=this.firstTable,e=this.secondTable,s=[],n=[],i=[],r=[];t.forEach((i=>{e.forEach((e=>{z().isEqual(i,e)&&(s.push(i),n=t.filter((t=>!s.includes(t))))}))})),this.nonMatched_1=n,e.forEach(((s,n)=>{t.forEach((t=>{z().isEqual(s,t)&&(i.push(e[n]),r=e.filter((t=>!i.includes(t))))}))})),this.nonMatched_2=r;let l=[],a=[];n.forEach((t=>{for(let e in t)r.forEach((s=>{for(let i in s)t[e]===s[i]?(l.push(n.find((s=>s[e]===t[e]))),l=l.filter(((t,e)=>l.indexOf(t)===e)),this.partialMatch_1=l):(a=z().xor(l,n),this.completelyNonMatch_1=a)}))})),console.log("part1",this.partialMatch_1,"comp1",this.completelyNonMatch_1);let o=[],u=[];r.forEach((t=>{for(let e in t)n.forEach((s=>{for(let n in s)s[n]===t[e]?(o.push(r.find((t=>t[n]===s[n]))),o=o.filter(((t,e)=>o.indexOf(t)===e)),this.partialMatch_2=o):(u=z().xor(o,r),this.completelyNonMatch_2=u)}))})),this.isLoaded=!0},resultOutput(){this.completelyNonMatch_1.forEach((t=>{this.firstTable.forEach(((e,s)=>{z().isEqual(t,e)&&(t["index"]=s+2)}))})),this.completelyNonMatch_2.forEach((t=>{this.secondTable.forEach(((e,s)=>{z().isEqual(t,e)&&(t["index"]=s+2)}))}));let t=[];this.partialMatch_1.forEach((e=>{this.firstTable.forEach(((t,s)=>{z().isEqual(t,e)&&(e["index"]=s+2)}));for(let s in e)this.partialMatch_2.forEach((n=>{this.secondTable.forEach(((t,e)=>{z().isEqual(t,n)&&(n["index"]=e+2)}));for(let i in n)if(z().isEqual(e[s],n[i])){t.push({el1:e,el2:n});const s=new Set(t.map((t=>JSON.stringify(t)))),i=Array.from(s).map((t=>JSON.parse(t)));this.partlyOutput=i}}))}))}}},Q=K,X=(0,l.Z)(Q,U,W,!1,null,null,null),Y=X.exports,tt={name:"LoadingView",components:{resultOfCompare:Y}},et=tt,st=(0,l.Z)(et,G,J,!1,null,null,null),nt=st.exports;n.ZP.use(h.ZP);const it=[{path:"/",name:"upload",component:O},{path:"/comparing",name:"comparing",component:q},{path:"/result",name:"result",component:nt}],rt=new h.ZP({mode:"history",base:"/compare_vue/",routes:it});var lt=rt,at=s(4865),ot=s.n(at);n.ZP.config.productionTip=!1,lt.beforeResolve(((t,e,s)=>{t.name&&ot().start(),s()})),lt.afterEach((()=>{ot().done()})),new n.ZP({store:c,router:lt,render:t=>t(u)}).$mount("#app")}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=t,function(){var t=[];s.O=function(e,n,i,r){if(!n){var l=1/0;for(_=0;_<t.length;_++){n=t[_][0],i=t[_][1],r=t[_][2];for(var a=!0,o=0;o<n.length;o++)(!1&r||l>=r)&&Object.keys(s.O).every((function(t){return s.O[t](n[o])}))?n.splice(o--,1):(a=!1,r<l&&(l=r));if(a){t.splice(_--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var _=t.length;_>0&&t[_-1][2]>r;_--)t[_]=t[_-1];t[_]=[n,i,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,r,l=n[0],a=n[1],o=n[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(o)var _=o(s)}for(e&&e(n);u<l.length;u++)r=l[u],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(_)},n=self["webpackChunkcompare"]=self["webpackChunkcompare"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(1962)}));n=s.O(n)})();
//# sourceMappingURL=app.da468453.js.map